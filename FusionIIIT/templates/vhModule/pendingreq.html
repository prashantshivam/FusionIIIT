{% load static %}
{% block pendingreq %}

{% comment %}The tab menu starts here!{% endcomment %}
<div class="ui pointing secondary menu">
    <a class="active item" data-tab="pendingrequests">
        Requests
    </a>
</div>

<div class="ui active tab" data-tab="pendingrequests">
    <div class="ui vertical segment">
        <table class="ui very basic collapsing celled sortable table">
            <thead>
                <tr>
                    <th class="three wide column">Intender</th>

                    <th class="three wide column">Visitor</th>

                    <th class="three wide column">Booking From</th>

                    <th class="three wide column">Booking To</th>
                </tr>
            </thead>

            <tbody>
                {% for booking in pending_bookings %}
                <tr onclick=bookingActionModal('{{ booking.id }}','{{ csrf_token }}')>
                    <td>
                        <h4 class="ui image header">
                            <div class="content">
                                {{ booking.visitor.intender }}
                                <div class="sub header">
                                {{ booking.visitor.intender.email }}
                                </div>
                            </div>
                        </h4>
                    </td>

                    <td>{{ booking.visitor.visitor_name }}</td>

                    <td>
                        {{ booking.booking_from }}
                    </td>

                    <td>
                        {{ booking.booking_to }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <br>
        <div class="ui divider"></div>

    </div>
</div>

<div class="ui modal" id="bookingActionModal">
  <div class="header">Request Action</div>
  <div class="scrolling content">
    {% include 'vhModule/bookingrequestaction.html' %}
  </div>
</div>

{% endblock %}
